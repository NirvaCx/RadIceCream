###############################################
#  Programa de exemplo para Syscall MIDI      #
#  ISC Abr 2018				      #
#  Marcus Vinicius Lamar		      #
###############################################

.data
# Numero de Notas a tocar
# NUM: .word 260 # old: .word 13
# lista de nota,duração,nota,duração,nota,duração,...
# NOTAS: 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 135, 40, 135, 40, 135, 47, 135, 48, 135, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 677, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 135, 40, 135, 40, 135, 47, 135, 48, 135, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 67, 67, 64, 67, 60, 67, 64, 67, 67, 67, 64, 67, 67, 67, 72, 67, 67, 67, 64, 67, 67, 67, 64, 67, 67, 67, 72, 67, 76, 67, 79, 67, 45, 135, 45, 135, 57, 135, 45, 135, 45, 135, 55, 135, 45, 135, 45, 135, 53, 135, 45, 135, 45, 135, 51, 135, 45, 135, 45, 135, 52, 135, 53, 135, 45, 135, 45, 135, 57, 135, 45, 135, 45, 135, 55, 135, 45, 135, 45, 135, 53, 135, 45, 135, 45, 135, 51, 677, 45, 135, 45, 135, 57, 135, 45, 135, 45, 135, 55, 135, 45, 135, 45, 135, 53, 135, 45, 135, 45, 135, 51, 135, 45, 135, 45, 135, 52, 135, 53, 135, 45, 135, 45, 135, 57, 135, 45, 135, 45, 135, 55, 135, 45, 135, 45, 135, 65, 67, 61, 67, 60, 67, 65, 67, 60, 67, 57, 67, 60, 67, 65, 67, 69, 67, 65, 67, 60, 67, 65, 67, 60, 67, 65, 67, 60, 67, 57, 67, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 135, 40, 135, 40, 135, 47, 135, 48, 135, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 677, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 135, 40, 135, 40, 135, 47, 135, 48, 135, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 677, 50, 135, 50, 135, 62, 135, 50, 135, 50, 135, 59, 135, 50, 135, 50, 135, 57, 135, 50, 135, 50, 135, 56, 135, 50, 135, 50, 135, 56, 135, 57, 135, 47, 135, 47, 135, 59, 135, 47, 135, 47, 135, 57, 135, 47, 135, 47, 135, 56, 135, 45, 135, 45, 135, 54, 677, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 48, 135, 40, 135, 40, 135, 46, 135, 40, 135, 40, 135, 47, 135, 48, 135, 40, 135, 40, 135, 52, 135, 40, 135, 40, 135, 50, 135, 40, 135, 40, 135, 64, 67, 67, 67, 60, 67, 55, 67, 64, 67, 60, 67, 67, 67, 64, 67, 67, 67, 64, 67, 60, 67, 55, 67, 64, 67, 67, 67, 72, 67, 76, 67 # old: 69,500,76,500,74,500,76,500,79,600, 76,1000,0,1200,69,500,76,500,74,500,76,500,81,600,76,1000

# NUM: .word 617
# NOTAS: 67,147,64,147,60,147,64,147,67,147,69,147,67,147,64,147,60,147,55,147,52,147,55,147,60,147,64,147,62,147,60,147,57,147,60,147,64,147,65,147,64,147,60,147,69,147,64,147,60,147,57,147,64,147,60,147,69,147,67,147,65,147,64,147,55,147,52,147,48,147,52,147,55,147,60,147,64,147,67,147,60,147,64,147,62,147,60,147,67,147,65,147,64,147,67,147,60,147,52,147,53,147,55,147,60,147,55,147,64,147,60,147,71,147,73,147,67,147,64,735,52,147,55,147,53,147,52,147,48,147,43,147,48,147,52,147,55,147,57,147,55,147,53,147,55,147,52,147,48,147,43,147,60,147,64,147,62,147,60,147,65,147,64,147,62,147,60,147,55,147,52,147,55,147,60,147,64,147,67,147,65,147,64,147,60,147,55,147,52,147,48,147,43,147,40,147,43,147,48,147,52,147,55,147,60,147,64,147,67,147,64,147,60,147,64,147,55,147,52,147,48,147,52,147,48,147,43,147,48,147,52,147,55,147,52,147,55,147,59,147,57,294,55,294,57,147,53,147,57,147,60,147,65,147,69,147,67,147,65,147,69,147,72,147,71,147,69,147,65,147,60,147,65,147,69,147,63,147,57,147,53,147,57,147,61,147,65,147,64,147,61,147,57,147,53,147,51,147,53,147,57,147,53,147,65,147,63,147,65,147,69,147,67,147,65,147,60,147,53,147,57,147,60,147,65,147,60,147,57,147,60,147,57,147,53,147,48,147,53,147,60,147,65,147,64,147,63,147,60,147,59,147,57,147,53,147,57,147,60,147,57,147,53,735,60,147,60,147,59,147,60,147,59,147,60,147,59,147,60,147,59,147,57,147,59,147,60,147,59,147,60,147,63,147,60,147,59,147,57,147,60,147,57,147,53,147,57,147,60,147,65,147,60,147,65,147,67,147,69,147,67,147,65,147,64,147,60,147,59,147,57,147,60,147,59,147,60,147,57,147,53,147,57,147,60,147,65,147,69,147,65,147,60,147,57,147,53,147,60,147,65,147,69,147,67,147,69,147,72,147,71,147,69,147,65,147,60,147,57,147,60,147,51,294,48,147,55,147,60,147,64,147,65,147,64,147,62,147,64,147,60,147,64,147,67,147,65,147,64,147,60,147,55,147,52,147,55,147,52,147,57,147,60,147,64,147,69,147,72,147,71,147,69,147,64,147,60,147,69,147,72,147,71,147,69,147,76,147,72,147,53,147,58,147,60,147,65,147,64,147,60,147,53,147,58,147,65,147,70,147,67,147,65,147,72,147,71,147,70,147,65,147,71,147,67,147,64,147,60,147,67,147,64,147,60,147,55,147,60,147,64,147,62,147,60,147,57,294,55,294,43,147,48,147,52,147,48,147,55,147,53,147,52,147,48,147,55,147,57,147,55,147,57,147,55,147,52,147,48,147,43,147,64,147,60,147,55,147,57,147,55,147,57,147,55,147,48,147,55,147,52,147,48,147,43,147,48,147,52,147,50,147,48,147,58,147,55,147,60,147,55,147,52,147,48,147,55,147,52,147,55,147,48,147,43,147,48,147,52,147,55,147,53,147,52,147,67,147,64,147,60,147,64,147,62,147,64,147,62,147,60,147,55,147,60,147,64,147,60,147,57,294,55,294,69,147,70,147,71,147,73,147,72,147,75,147,74,147,76,147,74,147,75,147,72,147,73,147,66,147,64,147,71,147,66,147,62,147,64,147,64,147,65,147,67,147,69,147,70,147,71,147,69,147,65,147,71,147,74,147,69,147,65,147,62,147,65,147,64,147,65,147,68,147,69,147,71,147,73,147,71,147,69,147,78,147,76,147,74,147,73,147,72,147,73,147,71,147,70,147,69,147,67,147,66,147,65,147,66,147,64,147,62,147,61,147,60,147,61,147,59,147,58,147,57,147,59,147,60,147,63,147,64,147,65,147,68,147,69,147,70,147,71,147,72,147,71,147,68,147,64,147,59,147,64,147,68,147,69,147,70,147,71,147,62,147,64,147,64,147,65,147,71,147,73,147,71,147,69,147,66,147,65,147,66,147,64,147,62,147,61,147,60,147,59,147,80,147,76,147,76,147,75,147,76,147,73,147,75,147,71,147,73,147,69,147,71,147,68,147,69,147,66,147,68,147,64,147,69,147,67,147,66,147,65,147,66,147,64,147,62,147,61,147,60,147,57,147,60,147,52,147,57,294,55,294,60,147,64,147,67,147,72,147,76,147,67,147,64,147,67,147,72,147,76,147,74,147,72,147,67,147,64,147,67,147,72,147,69,147,64,147,60,147,64,147,69,147,72,147,71,147,69,147,64,147,60,147,57,147,60,147,64,147,60,147,69,147,64,147,65,147,60,147,61,147,60,147,64,147,60,147,70,147,65,147,64,147,60,147,58,147,65,147,72,147,70,147,76,147,72,147,76,147,74,147,72,147,71,147,69,147,67,147,65,147,64,147,62,147,64,147,60,147,59,147,57,294,55,294,60,147,62,147,64,147,65,147,67,147,69,147,67,147,64,147,72,147,67,147,64,147,72,147,67,147,64,147,72,147,76,147,72,147,69,147,64,147,60,147,57,147,52,147,57,147,60,147,64,147,67,147,69,147,67,147,69,147,67,147,64,147,60,147,58,147,60,147,64,147,60,147,64,147,67,147,65,147,64,147,60,147,55,147,60,147,64,147,67,147,72,147,71,147,70,147,71,147,64,147,67,147,60,147,67,147,64,147,72,147,67,147,64,147,67,147,72,147,67,147,57,294,55,294
NUM: .word 623

NOTAS: 69, 150, 62, 150, 65, 150, 69, 150, 70, 150, 69, 150, 65, 150, 62, 150, 57, 150, 53, 150, 57, 150, 62, 150, 65, 150, 64, 150, 62, 150, 58, 150, 62, 150, 65, 150, 67, 150, 65, 150, 62, 150, 70, 150, 65, 150, 62, 150, 58, 150, 65, 150, 62, 150, 70, 150, 69, 150, 67, 150, 65, 150, 57, 150, 53, 150, 50, 150, 53, 150, 57, 150, 62, 150, 65, 150, 69, 150, 62, 150, 65, 150, 64, 150, 62, 150, 69, 150, 67, 150, 65, 150, 69, 150, 62, 150, 53, 150, 55, 150, 57, 150, 62, 150, 57, 150, 65, 150, 62, 150, 72, 150, 71, 150, 69, 150, 65, 150, 58, 150, 57, 300, 53, 300, 57, 150, 55, 150, 53, 150, 50, 150, 45, 150, 50, 150, 53, 150, 57, 150, 58, 150, 57, 150, 55, 150, 57, 150, 53, 150, 50, 150, 45, 150, 62, 150, 65, 150, 64, 150, 62, 150, 67, 150, 65, 150, 64, 150, 62, 150, 57, 150, 53, 150, 57, 150, 62, 150, 65, 150, 69, 150, 67, 150, 65, 150, 62, 150, 57, 150, 53, 150, 50, 150, 45, 150, 41, 150, 45, 150, 50, 150, 53, 150, 57, 150, 62, 150, 65, 150, 69, 150, 65, 150, 62, 150, 65, 150, 57, 150, 53, 150, 50, 150, 53, 150, 50, 150, 45, 150, 50, 150, 53, 150, 57, 150, 53, 150, 57, 150, 60, 150, 58, 150, 57, 300, 58, 300, 55, 150, 58, 150, 62, 150, 67, 150, 70, 150, 69, 150, 67, 150, 70, 150, 74, 150, 72, 150, 70, 150, 67, 150, 62, 150, 67, 150, 70, 150, 63, 150, 58, 150, 55, 150, 58, 150, 63, 150, 67, 150, 65, 150, 63, 150, 58, 150, 55, 150, 51, 150, 55, 150, 58, 150, 55, 150, 67, 150, 63, 150, 67, 150, 70, 150, 69, 150, 67, 150, 62, 150, 55, 150, 58, 150, 62, 150, 67, 150, 62, 150, 58, 150, 62, 150, 58, 150, 55, 150, 50, 150, 55, 150, 62, 150, 67, 150, 65, 150, 63, 150, 62, 150, 60, 150, 58, 150, 55, 150, 58, 150, 62, 150, 58, 150, 55, 150, 51, 150, 50, 300, 50, 300, 62, 150, 62, 150, 60, 150, 62, 150, 60, 150, 62, 150, 60, 150, 62, 150, 60, 150, 58, 150, 60, 150, 62, 150, 60, 150, 62, 150, 63, 150, 62, 150, 60, 150, 58, 150, 62, 150, 58, 150, 55, 150, 58, 150, 62, 150, 67, 150, 62, 150, 67, 150, 69, 150, 70, 150, 69, 150, 67, 150, 65, 150, 62, 150, 60, 150, 58, 150, 62, 150, 60, 150, 62, 150, 58, 150, 55, 150, 58, 150, 62, 150, 67, 150, 70, 150, 67, 150, 62, 150, 58, 150, 55, 150, 62, 150, 67, 150, 70, 150, 69, 150, 70, 150, 74, 150, 72, 150, 70, 150, 67, 150, 62, 150, 58, 150, 62, 150, 51, 150, 50, 300, 57, 300, 62, 150, 65, 150, 67, 150, 65, 150, 64, 150, 65, 150, 62, 150, 65, 150, 69, 150, 67, 150, 65, 150, 62, 150, 57, 150, 53, 150, 57, 150, 53, 150, 58, 150, 62, 150, 65, 150, 70, 150, 74, 150, 72, 150, 70, 150, 65, 150, 62, 150, 70, 150, 74, 150, 72, 150, 70, 150, 77, 150, 74, 150, 55, 150, 59, 150, 62, 150, 67, 150, 65, 150, 62, 150, 55, 150, 59, 150, 67, 150, 71, 150, 69, 150, 67, 150, 74, 150, 72, 150, 71, 150, 67, 150, 72, 150, 69, 150, 65, 150, 62, 150, 69, 150, 65, 150, 62, 150, 57, 150, 62, 150, 65, 150, 64, 150, 62, 150, 58, 150, 57, 300, 45, 300, 50, 150, 53, 150, 50, 150, 57, 150, 55, 150, 53, 150, 50, 150, 57, 150, 58, 150, 57, 150, 58, 150, 57, 150, 53, 150, 50, 150, 45, 150, 65, 150, 62, 150, 57, 150, 58, 150, 57, 150, 58, 150, 57, 150, 50, 150, 57, 150, 53, 150, 50, 150, 45, 150, 50, 150, 53, 150, 52, 150, 50, 150, 59, 150, 57, 150, 62, 150, 57, 150, 53, 150, 50, 150, 57, 150, 53, 150, 57, 150, 50, 150, 45, 150, 50, 150, 53, 150, 57, 150, 55, 150, 53, 150, 69, 150, 65, 150, 62, 150, 65, 150, 64, 150, 65, 150, 64, 150, 62, 150, 57, 150, 62, 150, 65, 150, 62, 150, 58, 150, 57, 300, 70, 300, 71, 150, 72, 150, 73, 150, 74, 150, 75, 150, 76, 150, 77, 150, 76, 150, 75, 150, 74, 150, 73, 150, 68, 150, 65, 150, 72, 150, 68, 150, 64, 150, 65, 150, 66, 150, 67, 150, 69, 150, 70, 150, 71, 150, 72, 150, 70, 150, 67, 150, 72, 150, 76, 150, 70, 150, 67, 150, 64, 150, 67, 150, 65, 150, 67, 150, 68, 150, 70, 150, 72, 150, 73, 150, 72, 150, 70, 150, 78, 150, 77, 150, 76, 150, 75, 150, 74, 150, 73, 150, 72, 150, 71, 150, 70, 150, 69, 150, 68, 150, 67, 150, 66, 150, 65, 150, 64, 150, 63, 150, 62, 150, 61, 150, 60, 150, 59, 150, 58, 150, 60, 150, 62, 150, 63, 150, 65, 150, 67, 150, 68, 150, 70, 150, 71, 150, 72, 150, 74, 150, 72, 150, 68, 150, 65, 150, 60, 150, 65, 150, 68, 150, 70, 150, 71, 150, 72, 150, 64, 150, 65, 150, 66, 150, 67, 150, 72, 150, 73, 150, 72, 150, 70, 150, 68, 150, 67, 150, 66, 150, 65, 150, 64, 150, 63, 150, 62, 150, 60, 150, 80, 150, 77, 150, 78, 150, 75, 150, 77, 150, 73, 150, 75, 150, 72, 150, 73, 150, 70, 150, 72, 150, 68, 150, 70, 150, 66, 150, 68, 150, 65, 150, 70, 150, 69, 150, 68, 150, 67, 150, 66, 150, 65, 150, 64, 150, 63, 150, 62, 150, 58, 150, 62, 150, 53, 150, 58, 150, 57, 300, 62, 300, 65, 150, 69, 150, 74, 150, 77, 150, 69, 150, 65, 150, 69, 150, 74, 150, 77, 150, 76, 150, 74, 150, 69, 150, 65, 150, 69, 150, 74, 150, 70, 150, 65, 150, 62, 150, 65, 150, 70, 150, 74, 150, 72, 150, 70, 150, 65, 150, 62, 150, 58, 150, 62, 150, 65, 150, 62, 150, 70, 150, 65, 150, 67, 150, 62, 150, 59, 150, 62, 150, 65, 150, 62, 150, 71, 150, 67, 150, 65, 150, 62, 150, 59, 150, 67, 150, 74, 150, 71, 150, 77, 150, 74, 150, 77, 150, 76, 150, 74, 150, 72, 150, 70, 150, 69, 150, 67, 150, 65, 150, 64, 150, 65, 150, 62, 150, 60, 150, 58, 150, 57, 300, 62, 300, 64, 150, 65, 150, 67, 150, 69, 150, 70, 150, 69, 150, 65, 150, 74, 150, 69, 150, 65, 150, 74, 150, 69, 150, 65, 150, 74, 150, 77, 150, 74, 150, 70, 150, 65, 150, 62, 150, 58, 150, 53, 150, 58, 150, 62, 150, 65, 150, 69, 150, 70, 150, 69, 150, 70, 150, 69, 150, 65, 150, 62, 150, 59, 150, 62, 150, 65, 150, 62, 150, 65, 150, 69, 150, 67, 150, 65, 150, 62, 150, 57, 150, 62, 150, 65, 150, 69, 150, 74, 150, 72, 150, 71, 150, 72, 150, 65, 150, 69, 150, 62, 150, 69, 150, 65, 150, 74, 150, 69, 150, 65, 150, 69, 150, 74, 150, 69, 150, 58, 150, 57, 300, 57, 300 

.text
	la s0,NUM		# define o endereço do número de notas
	lw s1,0(s0)		# le o numero de notas
	la s0,NOTAS		# define o endereço das notas
	li t0,0			# zera o contador de notas
	li a2,30		# define o instrumento
	li a3,127		# define o volume

LOOP:	beq t0,s1, FIM		# contador chegou no final? então  vá para FIM
	lw a0,0(s0)		# le o valor da nota
	lw a1,4(s0)		# le a duracao da nota
	li a7,31		# define a chamada de syscall
	ecall			# toca a nota
	mv a0,a1		# passa a duração da nota para a pausa
	li a7,32		# define a chamada de syscal 
	ecall			# realiza uma pausa de a0 ms
	addi s0,s0,8		# incrementa para o endereço da próxima nota
	addi t0,t0,1		# incrementa o contador de notas
	j LOOP			# volta ao loop
	
FIM:	# li a0,40		# define a nota
	# li a1,1500		# define a duração da nota em ms
	# li a2,127		# define o instrumento
	# li a3,127		# define o volume
	# li a7,33		# define o syscall
	# ecall			# toca a nota
	
	li a7,10		# define o syscall Exit
	ecall			# exit

